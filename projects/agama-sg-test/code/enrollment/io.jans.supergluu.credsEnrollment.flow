// //This flow launches several credential enrollment flows based on the configured
//authentication methods (passed in param mfaSettings) for a given user (identified by
//input param userData) until a given number of enrolled credentials is reached. The
//user is also prompted to optionally choose which his preferred credential type is. 
//The flow returns a positive value if enough credentials have been successfully
//enrolled or a negative value when several failed attempts to enroll have taken place. 
//In the case of a positive value, two pieces of data are attached: mfaInfo (an instance
//of class io.jans.agamapasskey.MFAUserInfo) describing current enrollment-related data
//for the user, and hadEnoughCreds (a boolean value) indicating whether this user had
//enough credentials when this flow was originally launched
Flow io.jans.supergluu.credsEnrollment
     Basepath ""
     Inputs userData mfaSettings verifyEmail message
Log "@info Credentials enrollment flow started" verifyEmail
inum = userData.inum
minCredsRequired = mfaSettings.minCredsRequired
enrollmentHelper = Call io.jans.agamapasskey.EnrollmentHelper#new mfaSettings